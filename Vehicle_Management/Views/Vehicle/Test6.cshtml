
@{
   //Layout = "~/Views/Shared/_Layout.cshtml";
    Layout = null;
}


<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>HTML table Export</title>

    @*<link href="~/assets/css/app.min.css" rel="stylesheet" type="text/css" />*@
    <!-- App css -->
    <link href="~/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/css/icons.min.css" rel="stylesheet" type="text/css" />
    @*<link href="~/assets/css/app.min.css" rel="stylesheet" type="text/css" />*@

    <script src="~/assets/libs/bootstrap-table/jquery-latest.min.js"></script>
    <link href="~/assets/libs/bootstrap-table/bootstrap.min.css" rel="stylesheet" />
    <link href="~/assets/libs/bootstrap-table/bootstrap-table.min.css" rel="stylesheet" />
    <script src="~/assets/libs/bootstrap-table/tableExport.js"></script>
    <script src="~/assets/libs/bootstrap-table/bootstrap.min.js"></script>
    <script src="~/assets/libs/bootstrap-table/bootstrap-table.min.js"></script>
    <script src="~/assets/libs/bootstrap-table/bootstrap-table-toolbar.js"></script>
    <script src="~/assets/libs/bootstrap-table/bootstrap-table-export.js"></script>
    <script src="~/assets/libs/bootstrap-table/bootstrap-table-filter-control.js"></script>


    <script type="text/javaScript">

        function detailFormatter(index, row) {
            var html = [];
            $.each(row, function (key, value) {
                html.push('<p><b>' + key + ':</b> ' + value + '</p>');
            });
            return html.join('');
        }

        function DoOnCellHtmlData(cell, row, col, data) {
            var result = "";
            if (typeof data != 'undefined' && data != "") {
                var html = $.parseHTML(data);

                $.each(html, function () {
                    if (typeof $(this).html() === 'undefined')
                        result += $(this).text();
                    else if (typeof $(this).attr('class') === 'undefined' || $(this).hasClass('th-inner') === true)
                        result += $(this).html();
                });
            }
            return result;
        }

        $(function () {
            $('#toolbar').find('select').change(function () {
                $('#table').bootstrapTable('refreshOptions', {
                    exportDataType: $(this).val()
                });
            });
        })

        $(document).ready(function () {
            $('#table').bootstrapTable('refreshOptions', {
                exportOptions: {
                    ignoreColumn: [0, 1], // or as string array: ['0','checkbox']
                    onCellHtmlData: DoOnCellHtmlData
                }
            });
        });

    </script>
</head>
<body>
    <div class="container">
        <h1 align="center">Data</h1><br>
        <div id="toolbar">
            <select class="form-control">
                <option value="">Export Basic</option>
                <option value="all">Export All</option>
                <option value="selected">Export Selected</option>
            </select>
        </div>
        <table id="table"
               data-toggle="table"
               data-height="600"
               data-show-toggle="true"
               data-show-columns="true"
               data-show-export="true"
               data-click-to-select="true"
               data-toolbar="#toolbar"
               data-pagination="true"
               data-search="true"
               data-detail-view="false"
               data-detail-formatter="detailFormatter"
               data-filter-control="false"
               data-url="tableExport.json">
            <thead>
                <tr>

                    <th data-field="Rank" data-sortable="true" data-filter-control="select" data-visible="true">Rank       </th>
                    <th data-field="Country" data-sortable="true" data-filter-control="select" data-visible="true">Country    </th>
                    <th data-field="Population" data-sortable="true" data-filter-control="select" data-visible="true">Population </th>
                    <th data-field="Date" data-sortable="true" data-filter-control="select" data-visible="true">Date       </th>
                    <th data-field="p_of_world" data-sortable="true" data-filter-control="select" data-visible="true">% of world </th>
                    <th data-field="Language" data-sortable="true" data-filter-control="select" data-visible="true">Language   </th>
                </tr>
            </thead>

            <tbody>
                <tr>
                    <td></td>
                    <td>UB-1609</td>
                    <td>Boudreaux</td>
                    <td>22 Jun 2017</td>
                    <td>$ 35.00</td>
                    <td>Unpaid</td>
                </tr>
                <tr>
                    <td></td>
                    <td>UB-1610</td>
                    <td>Woldt</td>
                    <td>24 Jun 2017</td>
                    <td>$ 15.00</td>
                    <td>Paid</td>
                </tr>

                <tr>
                    <td></td>
                    <td>UB-1611</td>
                    <td>Leonardo</td>
                    <td>25 Jun 2017</td>
                    <td>$ 35.00</td>
                    <td>Shipped</td>
                </tr>

                <tr>
                    <td></td>
                    <td>UB-1612</td>
                    <td>Halladay</td>
                    <td>27 Jun 2017</td>
                    <td>$ 35.00</td>
                    <td>Refunded</td>
                </tr>

                <tr>
                    <td></td>
                    <td>UB-1613</td>
                    <td>Badgett</td>
                    <td>28 Jun 2017</td>
                    <td>$ 95.00</td>
                    <td>Unpaid</td>
                </tr>
                <tr>
                    <td></td>
                    <td>UB-1614</td>
                    <td>Boudreaux</td>
                    <td>29 Jun 2017</td>
                    <td>$ 35.00</td>
                    <td>Paid</td>
                </tr>

                <tr>
                    <td></td>
                    <td>UB-1615</td>
                    <td>Boudreaux</td>
                    <td>22 Jun 2017</td>
                    <td>$ 35.00</td>
                    <td>Shipped</td>
                </tr>

                <tr>
                    <td></td>
                    <td>UB-1616</td>
                    <td>Boudreaux</td>
                    <td>22 Jun 2017</td>
                    <td>$ 35.00</td>
                    <td>Refunded</td>
                </tr>

                <tr>
                    <td></td>
                    <td>UB-1617</td>
                    <td>Boudreaux</td>
                    <td>22 Jun 2017</td>
                    <td>$ 35.00</td>
                    <td>Unpaid</td>
                </tr>
                <tr>
                    <td></td>
                    <td>UB-1618</td>
                    <td>Boudreaux</td>
                    <td>22 Jun 2017</td>
                    <td>$ 35.00</td>
                    <td>Paid</td>
                </tr>

                <tr>
                    <td></td>
                    <td>UB-1619</td>
                    <td>Boudreaux</td>
                    <td>22 Jun 2017</td>
                    <td>$ 35.00</td>
                    <td>Shipped</td>
                </tr>

                <tr>
                    <td></td>
                    <td>UB-1620</td>
                    <td>Boudreaux</td>
                    <td>22 Jun 2017</td>
                    <td>$ 35.00</td>
                    <td>Refunded</td>
                </tr>

                <tr>
                    <td></td>
                    <td>UB-1621</td>
                    <td>Boudreaux</td>
                    <td>22 Jun 2017</td>
                    <td>$ 35.00</td>
                    <td>Unpaid</td>
                </tr>
                <tr>
                    <td></td>
                    <td>UB-1622</td>
                    <td>Boudreaux</td>
                    <td>22 Jun 2017</td>
                    <td>$ 35.00</td>
                    <td>Paid</td>
                </tr>

                <tr>
                    <td></td>
                    <td>UB-1623</td>
                    <td>Boudreaux</td>
                    <td>22 Jun 2017</td>
                    <td>$ 35.00</td>
                    <td>Shipped</td>
                </tr>

                <tr>
                    <td></td>
                    <td>UB-1624</td>
                    <td>Boudreaux</td>
                    <td>22 Jun 2017</td>
                    <td>$ 35.00</td>
                    <td>Refunded</td>
                </tr>
            </tbody>
        </table>
    </div>
</body>
</html>
